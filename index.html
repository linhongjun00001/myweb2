<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宠物MBTI性格测试 - 极速版</title>
    <style>
        /* 优化后的CSS */
        :root {
            --primary: #FF85A1;
            --secondary: #7C6BDC;
            --accent: #FFD166;
            --light: #FFF5F7;
            --dark: #5A5B9D;
            --success: #06D6A0;
            --info: #118AB2;
            --white: #FFFFFF;
            --light-gray: #F8F9FA;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --border-radius: 22px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #fff5f7, #f0f0ff);
            min-height: 100vh;
            padding: 15px;
            color: #444;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.97);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            border: 2px solid var(--light);
        }

        .page {
            display: none;
            padding: 25px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .active {
            display: block;
        }

        header {
            text-align: center;
            padding: 35px 20px 25px;
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            color: white;
            position: relative;
            overflow: hidden;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .pet-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--accent);
            text-shadow: 0 2px 4px rgba(0,0,0,0.15);
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.15);
            font-weight: 700;
        }

        h2 {
            font-size: 1.2rem;
            font-weight: 400;
            margin-bottom: 20px;
            opacity: 0.95;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 300px;
            margin: 12px auto;
            padding: 15px 20px;
            border: none;
            border-radius: 14px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
        }

        .btn i {
            margin-right: 10px;
            transition: transform 0.3s;
        }

        .btn-pet {
            background: var(--light);
            color: var(--secondary);
            border: 2px solid rgba(124, 107, 220, 0.15);
        }

        .btn-upload {
            background: var(--secondary);
            color: white;
        }

        .btn-next {
            background: var(--success);
            color: white;
        }

        .btn-back {
            background: #f0f2f5;
            color: #495057;
        }

        .btn-restart {
            background: var(--secondary);
            color: white;
        }

        .btn-save {
            background: var(--primary);
            color: white;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .btn-group .btn {
            max-width: 200px;
            flex: 1;
        }

        .pets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .photo-frame {
            width: 100%;
            max-width: 450px;
            height: 300px;
            margin: 0 auto 25px;
            border: 3px dashed var(--primary);
            border-radius: 20px;
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .photo-placeholder {
            color: #a0aec0;
            font-size: 1.1rem;
            text-align: center;
            padding: 20px;
        }

        .question-box {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-top: 18px;
            box-shadow: var(--shadow);
            border: 2px solid var(--light);
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: var(--dark);
            line-height: 1.5;
            font-weight: 500;
            display: flex;
            align-items: flex-start;
        }

        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 16px 18px;
            border-radius: 12px;
            background: white;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            font-size: 1.05rem;
            position: relative;
            overflow: hidden;
        }

        .option.selected {
            background: rgba(124, 107, 220, 0.08);
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(124, 107, 220, 0.2);
        }

        .progress-container {
            margin: 20px 0;
            padding: 0 10px;
        }

        .progress-bar {
            height: 12px;
            background: #e9ecef;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }

        /* 结果页面样式 */
        .result-container {
            background: white;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin: 18px 0;
            border: 2px solid var(--light);
        }

        .result-header {
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            padding: 25px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .pet-photo-container {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 18px;
            border: 5px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            position: relative;
            z-index: 2;
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mbti-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent), #FFB347);
            color: white;
            font-size: 2.3rem;
            font-weight: bold;
            padding: 12px 35px;
            border-radius: 45px;
            margin: 12px 0;
            box-shadow: 0 6px 12px rgba(0,0,0,0.12);
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.15);
        }

        .result-content {
            padding: 25px;
        }

        .section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px dashed #e9ecef;
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--secondary);
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            padding-left: 10px;
            border-left: 4px solid var(--primary);
        }

        .traits-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 12px;
        }

        .trait-card {
            background: var(--light);
            border-radius: 14px;
            padding: 18px;
            display: flex;
            align-items: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.04);
            transition: var(--transition);
            border: 1px solid rgba(255, 133, 161, 0.1);
        }

        .analysis-content {
            background: rgba(255, 214, 102, 0.06);
            border-radius: 14px;
            padding: 22px;
            line-height: 1.7;
            font-size: 1.05rem;
            margin: 18px 0;
            border-left: 4px solid var(--accent);
        }

        .suggestions-list {
            margin-top: 18px;
        }

        .suggestion {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            padding: 14px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.04);
            border-left: 4px solid var(--success);
        }

        /* 新增主人匹配部分 */
        .compatibility-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .compatibility-card {
            background: rgba(124, 107, 220, 0.05);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(124, 107, 220, 0.2);
            transition: all 0.3s ease;
        }

        .compatibility-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }

        .compatibility-card h4 {
            color: var(--secondary);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .compatibility-card p {
            line-height: 1.7;
        }

        .match-meter {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
        }

        .match-level {
            height: 100%;
            border-radius: 4px;
            background: linear-gradient(90deg, var(--success), #06d6a0);
        }

        .match-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #6c757d;
        }

        footer {
            text-align: center;
            color: #6c757d;
            font-size: 0.85rem;
            padding: 22px 0 12px;
            margin-top: 18px;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        /* 加载指示器 */
        .loader {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            z-index: 1000;
            transition: opacity 0.5s ease;
        }

        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 133, 161, 0.2);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 图片生成加载器 */
        .image-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            font-size: 1.2rem;
            display: none;
        }

        .image-loader-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-top: 5px solid var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        /* 微信联系方式样式 */
        .wechat-contact {
            background: white;
            border-radius: 18px;
            padding: 20px;
            margin: 25px 0;
            text-align: center;
            box-shadow: var(--shadow);
            border: 2px solid #07c160;
            position: relative;
        }

        .wechat-title {
            color: #07c160;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wechat-id {
            background: #f0fdf4;
            padding: 12px;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 15px 0;
            border: 1px dashed #07c160;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wechat-id:hover {
            background: #dcfce7;
            transform: scale(1.03);
        }

        .wechat-tip {
            color: #6b7280;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .copy-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* 响应式优化 */
        @media (max-width: 768px) {
            .container {
                border-radius: 18px;
            }

            .page {
                padding: 18px;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.15rem;
            }

            .btn {
                padding: 13px;
                font-size: 0.95rem;
            }

            .btn-group {
                flex-direction: column;
                align-items: center;
                gap: 12px;
            }

            .btn-group .btn {
                max-width: 100%;
            }

            .photo-frame {
                height: 250px;
            }

            .question-text {
                font-size: 1.15rem;
            }

            .mbti-badge {
                font-size: 1.8rem;
                padding: 10px 25px;
            }

            .pet-photo-container {
                width: 140px;
                height: 140px;
            }

            .pets-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .section-title {
                font-size: 1.35rem;
            }
        }
    </style>
</head>
<body>
    <div class="loader">
        <div class="loader-spinner"></div>
        <p>正在加载测试内容，请稍候...</p>
    </div>

    <div class="image-loader" id="image-loader">
        <div class="image-loader-spinner"></div>
        <p>正在生成图片报告，请稍候...</p>
    </div>

    <div class="container hidden">
        <!-- 宠物选择页面 -->
        <div id="page-pet-selection" class="page active">
            <header>
                <div class="header-content">
                    <div class="pet-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FFD166" width="48" height="48">
                            <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z M9,8c0.55,0,1,0.45,1,1s-0.45,1-1,1s-1-0.45-1-1S8.45,8,9,8z M12,14c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S13.1,14,12,14z M15,10c-0.55,0-1-0.45-1-1s0.45-1,1-1s1,0.45,1,1S15.55,10,15,10z"/>
                        </svg>
                    </div>
                    <h1>宠物性格测试</h1>
                    <h2>发现您宠物的真实性格类型</h2>
                </div>
            </header>

            <!-- 微信联系方式 -->
            <div class="wechat-contact">
                <div class="wechat-title">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#07c160" width="24" height="24" style="margin-right: 8px;">
                        <path d="M8.2,13.1V7.9h2.5v1.4c0.6-0.9,1.6-1.4,2.7-1.4c2,0,3.6,1.6,3.6,3.6s-1.6,3.6-3.6,3.6c-0.7,0-1.3-0.2-1.8-0.5l-0.8,2.3H8.2V13.1z M11.9,12c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1C12.4,13.1,11.9,12.6,11.9,12z M7,12c0-0.6-0.5-1.1-1.1-1.1c-0.6,0-1.1,0.5-1.1,1.1c0,0.6,0.5,1.1,1.1,1.1C6.5,13.1,7,12.6,7,12z M16.5,18.1c2.1,0,3.8-1.4,4.3-3.3H21c0.6,0,1-0.4,1-1v-4c0-0.6-0.4-1-1-1h-4.4c-0.4-1.8-2-3.1-3.9-3.1c-2.2,0-4,1.8-4,4c0,0.5,0.1,0.9,0.3,1.3H7.2c-0.7,0-1.2,0.6-1.2,1.2v1.5c0,0.7,0.6,1.2,1.2,1.2h0.9v1.9c0,0.2,0.1,0.4,0.3,0.5c0.1,0.1,0.3,0.1,0.4,0.1c0.1,0,0.3,0,0.4-0.1l2.8-1.9h3.5V18.1z"/>
                    </svg>
                    加我微信获取金丝熊饲养指南
                </div>
                <div class="wechat-id" id="wechat-id">cangxiongxingqiu</div>
                <p class="wechat-tip">(点击上方微信号复制)</p>
                <p style="margin-top: 15px;">获取更多金丝熊饲养及繁育专业知识</p>
            </div>

            <div class="pets-grid">
                <button class="btn btn-pet" data-pet="金丝熊">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 10px;">
                        <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z"/>
                    </svg>
                    金丝熊
                </button>
                <button class="btn btn-pet" data-pet="侏儒类">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 10px;">
                        <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z"/>
                    </svg>
                    侏儒类
                </button>
                <button class="btn btn-pet" data-pet="喵喵">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 10px;">
                        <path d="M12,14l6,6H6l6-6z M12,2L6,8l2,2h8l2-2L12,2z"/>
                    </svg>
                    喵喵
                </button>
                <button class="btn btn-pet" data-pet="狗狗">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 10px;">
                        <path d="M18,9c0,1.7-1.3,3-3,3s-3-1.3-3-3s1.3-3,3-3S18,7.3,18,9z M9,9c0,1.7-1.3,3-3,3S3,10.7,3,9s1.3-3,3-3S9,7.3,9,9z M20,18h-2v-5c0-0.6-0.4-1-1-1h-2v6h-2v-6h-2v6H9v-6H7v6H5v-6H3v6H1v-7c0-1.1,0.9-2,2-2h14c1.1,0,2,0.9,2,2V18z"/>
                    </svg>
                    狗狗
                </button>
                <button class="btn btn-pet" data-pet="龙猫">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 10px;">
                        <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z"/>
                    </svg>
                    龙猫
                </button>
                <button class="btn btn-pet" data-pet="荷兰猪">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 10px;">
                        <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z"/>
                    </svg>
                    荷兰猪
                </button>
            </div>

            <footer>
                © 2023 宠物MBTI测试 | 发现您宠物的真实性格
            </footer>
        </div>

        <!-- 照片上传页面 -->
        <div id="page-photo-upload" class="page">
            <header>
                <div class="header-content">
                    <h1 id="upload-title">正在测试: <span id="pet-type-name"></span></h1>
                    <h2>请上传一张可爱的宠物照片</h2>
                </div>
            </header>

            <div class="photo-frame">
                <div id="photo-placeholder" class="photo-placeholder">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="60" height="60" style="opacity: 0.3; margin-bottom: 15px;">
                        <path d="M21,19V5c0-1.1-0.9-2-2-2H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14C20.1,21,21,20.1,21,19z M8.5,13.5l2.5,3.01L14.5,12l4.5,6H5L8.5,13.5z"/>
                    </svg>
                    <p>请上传宠物照片</p>
                </div>
                <img id="pet-photo" style="display: none;" alt="宠物照片">
            </div>

            <input type="file" id="photo-upload" accept="image/*" style="display: none;">
            <button class="btn btn-upload" id="btn-upload">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20" style="margin-right: 10px;">
                    <path d="M19.35,10.04C18.67,6.59,15.64,4,12,4C9.11,4,6.6,5.64,5.35,8.04C2.34,8.36,0,10.91,0,14c0,3.31,2.69,6,6,6h13c2.76,0,5-2.24,5-5C24,12.36,21.95,10.22,19.35,10.04z M14,13v4h-4v-4H7l5-5l5,5H14z"/>
                </svg>
                选择照片
            </button>

            <div class="btn-group">
                <button class="btn btn-back" id="btn-back">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#495057" width="20" height="20" style="margin-right: 10px;">
                        <path d="M20,11H7.83l5.59-5.59L12,4l-8,8l8,8l1.41-1.41L7.83,13H20V11z"/>
                    </svg>
                    返回
                </button>
                <button class="btn btn-next" id="btn-start-test" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20" style="margin-right: 10px;">
                        <path d="M8,5v14l11-7L8,5z"/>
                    </svg>
                    开始测试
                </button>
            </div>
        </div>

        <!-- 测试问题页面 -->
        <div id="page-test" class="page">
            <div class="pet-info">
                <span id="pet-info">宠物类型: <span id="current-pet-type"></span></span>
                <span id="progress">进度: <span id="current-question">0</span>/<span id="total-questions">0</span></span>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
            </div>

            <div class="question-box">
                <div class="question-text" id="question-text">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="28" height="28" style="margin-right: 12px; margin-top: 5px;">
                        <path d="M11,18h2v-2h-2V18z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z M12,6c-2.21,0-4,1.79-4,4h2c0-1.1,0.9-2,2-2s2,0.9,2,2c0,2-3,1.75-3,5h2c0-2.25,3-2.5,3-5C16,7.79,14.21,6,12,6z"/>
                    </svg>
                    <span id="question-content"></span>
                </div>
                <div class="options-group" id="options-container"></div>
            </div>

            <div class="btn-group">
                <button class="btn btn-back" id="btn-prev">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#495057" width="20" height="20" style="margin-right: 10px;">
                        <path d="M20,11H7.83l5.59-5.59L12,4l-8,8l8,8l1.41-1.41L7.83,13H20V11z"/>
                    </svg>
                    上一题
                </button>
                <button class="btn btn-next" id="btn-next">
                    下一题
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20" style="margin-left: 10px;">
                        <path d="M12,4l-1.41,1.41L16.17,11H4v2h12.17l-5.58,5.59L12,20l8-8L12,4z"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- 结果页面 -->
        <div id="page-result" class="page">
            <div class="result-container">
                <div class="result-header">
                    <div class="pet-photo-container">
                        <img id="result-photo" alt="宠物照片">
                    </div>

                    <h1 class="result-title">宠物性格分析报告</h1>
                    <div class="result-subtitle" id="result-subtitle">您的<span id="report-pet-type"></span>性格类型是</div>

                    <div class="mbti-badge" id="mbti-type">
                        <span id="mbti-result">ISTJ</span>
                    </div>
                    <div class="mbti-name" id="mbti-name">类型名称: <span id="mbti-name-text">守序者</span></div>
                </div>

                <div class="result-content">
                    <div class="section">
                        <h3 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 10px;">
                                <path d="M12,17.27L18.18,21l-1.64-7.03L22,9.24l-7.19-0.61L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27z"/>
                            </svg>
                            性格特点
                        </h3>
                        <div class="traits-list" id="traits-list">
                            <div class="trait-card">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div class="trait-text">严谨可靠</div>
                            </div>
                            <div class="trait-card">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div class="trait-text">喜欢规律作息</div>
                            </div>
                            <div class="trait-card">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div class="trait-text">注重细节</div>
                            </div>
                            <div class="trait-card">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div class="trait-text">有责任感</div>
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h3 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 10px;">
                                <path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19,19H5V5h14V19z M7,10h2v7H7V10z M11,7h2v10h-2V7z M15,13h2v4h-2V13z"/>
                            </svg>
                            性格分析
                        </h3>
                        <div class="analysis-content" id="analysis-content">
                            <p>您的金丝熊表现出独特的性格特征，需要主人用心观察和理解。这种性格的宠物通常有自己的特殊需求和偏好，主人需要花时间了解TA的个性特点，才能建立更深厚的感情连接。</p>
                            <p class="mt-2">根据测试结果，您的金丝熊属于守序者类型（ISTJ），这种性格的宠物通常有自己的特殊需求和偏好，主人需要花时间了解TA的个性特点，才能建立更深厚的感情连接。</p>
                        </div>
                    </div>

                    <!-- 新增：与主人匹配度 -->
                    <div class="section">
                        <h3 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 10px;">
                                <path d="M16,11c1.66,0,2.99-1.34,2.99-3c0-1.66-1.34-3-3-3c-1.66,0-3,1.34-3,3C13,9.66,14.34,11,16,11z M8,11c1.66,0,2.99-1.34,2.99-3c0-1.66-1.34-3-3-3c-1.66,0-3,1.34-3,3C5,9.66,6.34,11,8,11z M8,13c-2.33,0-7,1.17-7,3.5V19h14v-2.5C15,14.17,10.33,13,8,13z M16,13c-0.29,0-0.62,0.02-0.97,0.05c1.16,0.84,1.97,1.97,1.97,3.45V19h6v-2.5C23,14.17,18.33,13,16,13z"/>
                            </svg>
                            与主人匹配度
                        </h3>
                        <div class="compatibility-grid">
                            <div class="compatibility-card">
                                <h4>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="24" height="24" style="margin-right: 8px;">
                                        <path d="M12,17.27L18.18,21l-1.64-7.03L22,9.24l-7.19-0.61L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27z"/>
                                    </svg>
                                    适合的主人类型
                                </h4>
                                <p>ISTJ性格的金丝熊最适合与ISTJ、ISFJ或ESTJ性格的主人相处。这类主人注重规律和计划，能够为宠物提供稳定的生活环境。</p>
                                <div class="match-meter">
                                    <div class="match-level" style="width: 85%"></div>
                                </div>
                                <div class="match-label">
                                    <span>低匹配度</span>
                                    <span>高匹配度</span>
                                </div>
                            </div>

                            <div class="compatibility-card">
                                <h4>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="24" height="24" style="margin-right: 8px;">
                                        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M16.13,16.13c-1.94,1.94-5.06,1.94-7,0l0,0c-1.94-1.94-1.94-5.06,0-7c1.94-1.94,5.06-1.94,7,0C18.07,11.07,18.07,14.19,16.13,16.13z M15,11l-4,0v2h4V11z"/>
                                    </svg>
                                    需要避免的主人类型
                                </h4>
                                <p>ISTJ性格的宠物不太适合与ESFP或ENFP类型的主人相处，这类主人生活方式较为随意，可能会让宠物感到不安。</p>
                                <div class="match-meter">
                                    <div class="match-level" style="width: 30%; background: #FF85A1;"></div>
                                </div>
                                <div class="match-label">
                                    <span>低匹配度</span>
                                    <span>高匹配度</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h3 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 10px;">
                                <path d="M12,12c2.21,0,4-1.79,4-4s-1.79-4-4-4s-4,1.79-4,4S9.79,12,12,12z M12,6c1.1,0,2,0.9,2,2s-0.9,2-2,2s-2-0.9-2-2S10.9,6,12,6z M12,14c-2.67,0-8,1.34-8,4v2h16v-2C20,15.34,14.67,14,12,14z M4,18v-0.99C4.2,16.29,7.3,15,12,15s7.8,1.29,8,2.01V18H4z"/>
                            </svg>
                            互动建议
                        </h3>
                        <div class="analysis-content" id="interaction-content">
                            <p>为TA建立固定的作息时间表，提供整洁有序的生活空间。避免突然改变环境，给予明确的指令和奖励。</p>
                            <p class="mt-2">每只宠物都有独特的性格特点，需要主人用心观察和理解。了解宠物的性格类型可以帮助您提供更适合的饲养环境和互动方式。</p>
                        </div>
                    </div>

                    <div class="section">
                        <h3 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF85A1" width="24" height="24" style="margin-right: 10px;">
                                <path d="M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v14.65c0,0.25,0.25,0.5,0.5,0.5c0.1,0,0.15-0.05,0.25-0.05C3.1,20.45,5.05,20,6.5,20c1.95,0,4.05,0.4,5.5,1.5c1.35-0.85,3.8-1.5,5.5-1.5c1.65,0,3.35,0.3,4.75,1.05c0.1,0.05,0.15,0.05,0.25,0.05c0.25,0,0.5-0.25,0.5-0.5V6C22.4,5.55,21.75,5.25,21,5z M21,18.5c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5c1.2,0,2.4,0.15,3.5,0.5V18.5z"/>
                            </svg>
                            饲养贴士
                        </h3>
                        <div class="suggestions-list" id="suggestions-list">
                            <div class="suggestion">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#06D6A0" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div>保持固定的作息时间</div>
                            </div>
                            <div class="suggestion">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#06D6A0" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div>提供丰富多样的玩具</div>
                            </div>
                            <div class="suggestion">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#06D6A0" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div>定期进行健康检查</div>
                            </div>
                            <div class="suggestion">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#06D6A0" width="24" height="24" style="margin-right: 12px;">
                                    <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                                </svg>
                                <div>创造安全的休息空间</div>
                            </div>
                        </div>
                    </div>

                    <!-- 微信联系方式 -->
                    <div class="wechat-contact">
                        <div class="wechat-title">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#07c160" width="24" height="24" style="margin-right: 8px;">
                                <path d="M8.2,13.1V7.9h2.5v1.4c0.6-0.9,1.6-1.4,2.7-1.4c2,0,3.6,1.6,3.6,3.6s-1.6,3.6-3.6,3.6c-0.7,0-1.3-0.2-1.8-0.5l-0.8,2.3H8.2V13.1z M11.9,12c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1C12.4,13.1,11.9,12.6,11.9,12z M7,12c0-0.6-0.5-1.1-1.1-1.1c-0.6,0-1.1,0.5-1.1,1.1c0,0.6,0.5,1.1,1.1,1.1C6.5,13.1,7,12.6,7,12z M16.5,18.1c2.1,0,3.8-1.4,4.3-3.3H21c0.6,0,1-0.4,1-1v-4c0-0.6-0.4-1-1-1h-4.4c-0.4-1.8-2-3.1-3.9-3.1c-2.2,0-4,1.8-4,4c0,0.5,0.1,0.9,0.3,1.3H7.2c-0.7,0-1.2,0.6-1.2,1.2v1.5c0,0.7,0.6,1.2,1.2,1.2h0.9v1.9c0,0.2,0.1,0.4,0.3,0.5c0.1,0.1,0.3,0.1,0.4,0.1c0.1,0,0.3,0,0.4-0.1l2.8-1.9h3.5V18.1z"/>
                            </svg>
                            加我微信获取金丝熊饲养指南
                        </div>
                        <div class="wechat-id">cangxiongxingqiu</div>
                        <p class="wechat-tip">(长按微信号复制)</p>
                        <p style="margin-top: 15px;">获取更多金丝熊饲养及繁育专业知识</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-restart" id="btn-restart">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20" style="margin-right: 10px;">
                        <path d="M17.65,6.35C16.2,4.9,14.21,4,12,4c-4.42,0-7.99,3.58-7.99,8s3.57,8,7.99,8c3.73,0,6.84-2.55,7.73-6h-2.08c-0.82,2.33-3.04,4-5.65,4c-3.31,0-6-2.69-6-6s2.69-6,6-6c1.66,0,3.14,0.69,4.22,1.78L13,11h7V4L17.65,6.35z"/>
                    </svg>
                    重新测试
                </button>
                <button class="btn btn-save" id="btn-save">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="20" height="20" style="margin-right: 10px;">
                        <path d="M17,3H5C3.89,3,3,3.9,3,5v14c0,1.1,0.89,2,2,2h14c1.1,0,2-0.9,2-2V7L17,3z M12,19c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3S13.66,19,12,19z M15,9H5V5h10V9z"/>
                    </svg>
                    保存报告 (图片)
                </button>
            </div>

            <footer>
                © 2023 宠物MBTI测试 | 报告生成时间: <span id="report-date">2023年10月15日 14:30:25</span>
            </footer>
        </div>
    </div>

    <!-- 报告下载通知 -->
    <div class="report-notification" id="report-notification" style="display: none; position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: var(--success); color: white; padding: 15px 30px; border-radius: 50px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 1000;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="24" height="24" style="margin-right: 10px;">
            <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
        </svg>
        图片报告已生成并开始下载！
    </div>

    <!-- 复制通知 -->
    <div class="copy-notification" id="copy-notification">
        微信号已复制到剪贴板！
    </div>

    <script>
        // 页面加载完成后显示内容
        document.addEventListener('DOMContentLoaded', () => {
            // 显示加载指示器
            document.querySelector('.loader').style.display = 'flex';

            // 模拟加载延迟
            setTimeout(() => {
                document.querySelector('.loader').style.display = 'none';
                document.querySelector('.container').classList.remove('hidden');
                initApp();
            }, 300);
        });

        function initApp() {
            // 复制微信号功能
            const wechatId = document.getElementById('wechat-id');
            if (wechatId) {
                wechatId.addEventListener('click', () => {
                    const tempInput = document.createElement('input');
                    tempInput.value = 'cangxiongxingqiu';
                    document.body.appendChild(tempInput);
                    tempInput.select();
                    document.execCommand('copy');
                    document.body.removeChild(tempInput);

                    const notification = document.getElementById('copy-notification');
                    notification.style.opacity = 1;
                    setTimeout(() => {
                        notification.style.opacity = 0;
                    }, 2000);
                });
            }

            // 应用状态
            const appState = {
                petType: "",
                photoData: "",
                answers: {},
                currentQuestion: 0
            };

            // DOM元素
            const pages = {
                petSelection: document.getElementById('page-pet-selection'),
                photoUpload: document.getElementById('page-photo-upload'),
                test: document.getElementById('page-test'),
                result: document.getElementById('page-result')
            };

            // 宠物选择
            document.querySelectorAll('.btn-pet').forEach(btn => {
                btn.addEventListener('click', () => {
                    appState.petType = btn.dataset.pet;
                    document.getElementById('pet-type-name').textContent = appState.petType;
                    document.getElementById('current-pet-type').textContent = appState.petType;
                    showPage('photoUpload');
                });
            });

            // 照片上传 - 简化处理
            document.getElementById('btn-upload').addEventListener('click', () => {
                document.getElementById('photo-upload').click();
            });

            document.getElementById('photo-upload').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    // 简化处理 - 不进行实际文件读取
                    appState.photoData = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FF85A1'%3E%3Cpath d='M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z'/%3E%3C/svg%3E";
                    document.getElementById('pet-photo').src = appState.photoData;
                    document.getElementById('pet-photo').style.display = 'block';
                    document.getElementById('photo-placeholder').style.display = 'none';
                    document.getElementById('btn-start-test').disabled = false;
                }
            });

            // 开始测试
            document.getElementById('btn-start-test').addEventListener('click', () => {
                startTest();
            });

            // 返回按钮
            document.getElementById('btn-back').addEventListener('click', () => {
                showPage('petSelection');
            });

            // 上一题
            document.getElementById('btn-prev').addEventListener('click', () => {
                if (appState.currentQuestion > 0) {
                    appState.currentQuestion--;
                    showQuestion();
                }
            });

            // 下一题
            document.getElementById('btn-next').addEventListener('click', () => {
                if (appState.currentQuestion in appState.answers) {
                    if (appState.currentQuestion < 9) { // 10道题
                        appState.currentQuestion++;
                        showQuestion();
                    } else {
                        generateReport();
                    }
                } else {
                    alert('请先选择一个选项');
                }
            });

            // 重新测试
            document.getElementById('btn-restart').addEventListener('click', () => {
                showPage('petSelection');
                resetAppState();
            });

            // 保存报告 - 使用图片格式
            document.getElementById('btn-save').addEventListener('click', () => {
                generateImageReport();
            });

            // 显示页面
            function showPage(pageName) {
                Object.values(pages).forEach(page => page.classList.remove('active'));
                pages[pageName].classList.add('active');
            }

            // 开始测试
            function startTest() {
                appState.answers = {};
                appState.currentQuestion = 0;
                showPage('test');
                showQuestion();
            }

            // 重置应用状态
            function resetAppState() {
                appState.petType = "";
                appState.photoData = "";
                appState.answers = {};
                appState.currentQuestion = 0;
                document.getElementById('pet-photo').style.display = 'none';
                document.getElementById('photo-placeholder').style.display = 'block';
                document.getElementById('btn-start-test').disabled = true;
            }

            // 显示问题
            function showQuestion() {
                // 更新进度信息
                document.getElementById('current-question').textContent = appState.currentQuestion + 1;
                document.getElementById('total-questions').textContent = 10;
                document.getElementById('progress-bar').style.width = `${(appState.currentQuestion + 1) / 10 * 100}%`;

                // 简化问题显示
                const questions = [
                    "在新环境中，TA的表现是？",
                    "TA对新玩具的态度是？",
                    "当您试图抚摸TA时，TA的反应是？",
                    "TA的日常生活习惯如何？",
                    "当有陌生人靠近时，TA会？",
                    "TA在吃东西时的表现是？",
                    "当您心情不好时，TA会？",
                    "TA对笼子布置的改变反应如何？",
                    "在玩耍时，TA更喜欢？",
                    "TA对训练的反应如何？"
                ];

                document.getElementById('question-content').textContent = questions[appState.currentQuestion];

                // 创建选项
                const optionsContainer = document.getElementById('options-container');
                optionsContainer.innerHTML = '';

                const options = [
                    "立即探索所有角落",
                    "先观察再行动",
                    "紧张躲藏"
                ];

                const optionIcons = [
                    `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 12px;"><path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z"/></svg>`,
                    `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 12px;"><path d="M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z"/></svg>`,
                    `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#7C6BDC" width="20" height="20" style="margin-right: 12px;"><path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z M12,17c-2.76,0-5-2.24-5-5s2.24-5,5-5s5,2.24,5,5S14.76,17,12,17z"/></svg>`
                ];

                options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    if (appState.answers[appState.currentQuestion] === index) {
                        optionElement.classList.add('selected');
                    }

                    optionElement.innerHTML = `
                        ${optionIcons[index]}
                        <span>${option}</span>
                    `;

                    optionElement.addEventListener('click', () => {
                        // 移除之前的选择
                        document.querySelectorAll('.option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        // 设置当前选择
                        optionElement.classList.add('selected');
                        appState.answers[appState.currentQuestion] = index;
                    });

                    optionsContainer.appendChild(optionElement);
                });

                // 更新按钮状态
                document.getElementById('btn-prev').disabled = appState.currentQuestion === 0;
                document.getElementById('btn-next').textContent =
                    appState.currentQuestion < 9 ? '下一题' : '完成测试';
            }

            // 生成报告
            function generateReport() {
                // 设置结果页面内容
                document.getElementById('result-photo').src = appState.photoData;
                document.getElementById('report-pet-type').textContent = appState.petType;
                document.getElementById('result-subtitle').textContent = `您的${appState.petType}性格类型是`;

                // 更新报告时间
                const now = new Date();
                const formattedDate = `${now.getFullYear()}年${now.getMonth()+1}月${now.getDate()}日 ${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;
                document.getElementById('report-date').textContent = formattedDate;

                // 显示结果页面
                showPage('result');
            }

            // 生成图片报告
            function generateImageReport() {
                const imageLoader = document.getElementById('image-loader');
                imageLoader.style.display = 'flex';

                // 动态加载html2canvas库
                const script = document.createElement('script');
                script.src = 'https://html2canvas.hertzen.com/dist/html2canvas.min.js';
                script.onload = () => {
                    // 模拟图片生成
                    setTimeout(() => {
                        imageLoader.style.display = 'none';

                        // 显示下载通知
                        const notification = document.getElementById('report-notification');
                        notification.style.display = 'flex';
                        notification.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="24" height="24" style="margin-right: 10px;">
                                <path d="M9,16.17L4.83,12l-1.42,1.41L9,19L21,7l-1.41-1.41L9,16.17z"/>
                            </svg>
                            图片报告已生成并开始下载！
                        `;

                        setTimeout(() => {
                            notification.style.display = 'none';
                        }, 3000);

                        // 模拟下载
                        const link = document.createElement('a');
                        link.href = '#'; // 实际应用中应替换为真实的图片URL
                        link.download = `${appState.petType}-性格测试报告.png`;
                        link.click();
                    }, 1000);
                };
                document.head.appendChild(script);
            }
        }
    </script>
</body>
</html>